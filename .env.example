# =============================================================================
# WINDMAR Environment Configuration
# =============================================================================
#
# Copy this file to .env and configure for your environment:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
#
# =============================================================================

# =============================================================================
# REQUIRED SETTINGS - Must be configured before deployment
# =============================================================================

# Database Configuration
DB_USER=windmar
DB_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD
DB_NAME=windmar
DB_HOST=db
DB_PORT=5432
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Redis Configuration
REDIS_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# API Security - CRITICAL: Generate a unique secret key!
# Generate with: openssl rand -hex 32
API_SECRET_KEY=CHANGE_THIS_GENERATE_WITH_OPENSSL_RAND_HEX_32

# CORS Origins - Comma-separated list of allowed origins
# Remove localhost entries for production!
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=production

# Logging level: debug, info, warning, error
LOG_LEVEL=info

# Authentication (MUST be true in production)
AUTH_ENABLED=true

# Rate limiting (recommended for production)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# SERVICE PORTS (for docker-compose)
# =============================================================================

API_PORT=8000
FRONTEND_PORT=3000
# DB_PORT=5432      # Uncomment only if you need external DB access
# REDIS_PORT=6379   # Uncomment only if you need external Redis access

# =============================================================================
# WEATHER DATA CONFIGURATION
# =============================================================================
# Without credentials, the system falls back to synthetic data automatically.

# CDS API — ERA5 wind data
# Register at: https://cds.climate.copernicus.eu/
# Your Personal Access Token is on your CDS profile page.
CDSAPI_URL=https://cds.climate.copernicus.eu/api
CDSAPI_KEY=

# Copernicus Marine Service — wave, current, and SST data
# Register at: https://marine.copernicus.eu/
COPERNICUSMARINE_SERVICE_USERNAME=
COPERNICUSMARINE_SERVICE_PASSWORD=

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry DSN for error tracking (optional but recommended)
SENTRY_DSN=

# Enable Prometheus metrics endpoint
METRICS_ENABLED=true

# =============================================================================
# CALIBRATION & SIMULATION
# =============================================================================

# Learning rate for coefficient updates (0.001 - 0.1)
CALIBRATION_LEARNING_RATE=0.01

# Path to persist calibration state
CALIBRATION_PERSISTENCE_PATH=data/calibration.json

# Simulation defaults
SIM_WAVE_HEIGHT_M=2.5
SIM_WAVE_PERIOD_S=8.0

# =============================================================================
# DATA STORAGE
# =============================================================================

GRIB_CACHE_DIR=data/grib_cache
DATA_DIR=data

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure:
#
# [ ] DB_PASSWORD is a strong, unique password
# [ ] REDIS_PASSWORD is a strong, unique password
# [ ] API_SECRET_KEY is generated with: openssl rand -hex 32
# [ ] CORS_ORIGINS contains only your production domains (no localhost)
# [ ] AUTH_ENABLED=true
# [ ] RATE_LIMIT_ENABLED=true
# [ ] ENVIRONMENT=production
# [ ] SENTRY_DSN is configured for error tracking
# [ ] SSL/TLS is configured via reverse proxy
# [ ] Database backups are scheduled
# [ ] Log aggregation is configured
#
# =============================================================================
